{
  "nodes": {
    "start": {
      "id": "start",
      "speaker": "Pixel",
      "text": "Level 9 - STRATA TIME! Let's turn your TypeScript skills into REAL GAMES! ðŸŽ®",
      "followUp": "Strata is your gateway to graphics, sounds, and player input - everything you need for awesome games!",
      "options": [
        {
          "text": "I'm ready to make games!",
          "next": "strataBasics"
        },
        {
          "text": "What can I build with Strata?",
          "next": "strataPossibilities"
        }
      ]
    },
    "strataPossibilities": {
      "id": "strataPossibilities",
      "speaker": "Pixel",
      "text": "EVERYTHING! Platformers, RPGs, puzzle games, racing games... if you can imagine it, Strata can build it!",
      "followUp": "Ready to start your game development journey with Strata?",
      "options": [
        {
          "text": "Show me Strata magic!",
          "next": "strataBasics"
        }
      ]
    },
    "strataBasics": {
      "id": "strataBasics",
      "speaker": "Pixel",
      "text": "Every Strata program starts the same way - initialize, create a window, and run a game loop!",
      "codeExample": "import { strata } from 'strata';\n\n// Initialize Strata\nstrata.init();\n\n// Create game window\nconst screen = strata.display.setMode([800, 600]);\nstrata.display.setCaption('My First Game!');\n\n// Game loop\nlet running = true;\nconst clock = new strata.time.Clock();\n\nwhile (running) {\n    // Handle events\n    const events = strata.event.get();\n    for (let event of events) {\n        if (event.type === strata.QUIT) {\n            running = false;\n        }\n    }\n    \n    // Fill screen with color\n    screen.fill([0, 128, 255]);  // Sky blue!\n    \n    // Update display\n    strata.display.flip();\n    clock.tick(60);  // 60 FPS\n}\n\nstrata.quit();",
      "followUp": "This is your game's heartbeat - the loop that keeps everything running!",
      "options": [
        {
          "text": "How do I add graphics?",
          "next": "drawingShapes"
        },
        {
          "text": "Explain the game loop",
          "next": "gameLoopExplained"
        }
      ]
    },
    "gameLoopExplained": {
      "id": "gameLoopExplained",
      "speaker": "Pixel",
      "text": "The game loop is like your game's heartbeat - it runs 60 times per second!",
      "codeExample": "// The Game Loop Pattern:\nwhile (running) {\n    // 1. HANDLE INPUT - What did player do?\n    const events = strata.event.get();\n    \n    // 2. UPDATE GAME STATE - Move things, check collisions\n    player.update();\n    enemies.update();\n    \n    // 3. DRAW EVERYTHING - Show the current state\n    screen.fill(backgroundColor);\n    player.draw(screen);\n    enemies.draw(screen);\n    \n    // 4. CONTROL SPEED - Keep it smooth!\n    strata.display.flip();\n    clock.tick(60);  // 60 frames per second\n}",
      "followUp": "Input â†’ Update â†’ Draw â†’ Repeat. That's the magic formula!",
      "options": [
        {
          "text": "Let's draw something!",
          "next": "drawingShapes"
        }
      ]
    },
    "drawingShapes": {
      "id": "drawingShapes",
      "speaker": "Pixel",
      "text": "Strata can draw shapes, images, and text! Let's start with colorful shapes!",
      "codeExample": "import { strata } from 'strata';\n\nconst screen = strata.display.setMode([800, 600]);\n\nconst RED = [255, 0, 0];\nconst BLUE = [0, 0, 255];\nconst GREEN = [0, 255, 0];\n\n// Draw shapes!\nstrata.draw.circle(screen, RED, [400, 300], 50);  // Circle\nstrata.draw.rect(screen, BLUE, [100, 100, 200, 150]);  // Rectangle\nstrata.draw.line(screen, GREEN, [0, 0], [800, 600], 5);  // Line",
      "followUp": "Shapes are the building blocks - combine them to create anything!",
      "options": [
        {
          "text": "How do I move things?",
          "next": "movement"
        },
        {
          "text": "Can I use images?",
          "next": "sprites"
        }
      ]
    },
    "movement": {
      "id": "movement",
      "speaker": "Pixel",
      "text": "Movement is just changing position over time - add to X to go right, subtract to go left!",
      "codeExample": "let playerX = 400;\nlet playerY = 300;\nlet speed = 5;\n\nwhile (running) {\n    const keys = strata.key.getPressed();\n    \n    if (keys[strata.K_LEFT]) playerX -= speed;\n    if (keys[strata.K_RIGHT]) playerX += speed;\n    if (keys[strata.K_UP]) playerY -= speed;\n    if (keys[strata.K_DOWN]) playerY += speed;\n    \n    screen.fill([100, 100, 100]);\n    strata.draw.circle(screen, [255, 255, 0], [playerX, playerY], 25);\n    \n    strata.display.flip();\n    clock.tick(60);\n}",
      "followUp": "Arrow keys control movement - you just made an interactive game!",
      "options": [
        {
          "text": "What about images and sprites?",
          "next": "sprites"
        },
        {
          "text": "How do I detect collisions?",
          "next": "collisions"
        }
      ]
    },
    "sprites": {
      "id": "sprites",
      "speaker": "Pixel",
      "text": "Sprites are game images - characters, items, backgrounds. Strata makes them easy to use!",
      "codeExample": "const playerImg = strata.image.load('player.png');\n\nclass Player {\n    constructor(x, y) {\n        this.image = playerImg;\n        this.rect = new strata.Rect(x, y, 50, 50);\n    }\n    \n    draw(screen) {\n        screen.blit(this.image, [this.rect.x, this.rect.y]);\n    }\n}\n\nlet player = new Player(400, 300);",
      "followUp": "Sprites + Classes = organized, powerful game objects!",
      "options": [
        {
          "text": "How do collisions work?",
          "next": "collisions"
        },
        {
          "text": "Can I add sound?",
          "next": "sound"
        }
      ]
    },
    "collisions": {
      "id": "collisions",
      "speaker": "Pixel",
      "text": "Collisions detect when game objects touch - essential for gameplay!",
      "codeExample": "const playerRect = new strata.Rect(400, 300, 50, 50);\nconst coinRect = new strata.Rect(200, 200, 30, 30);\n\nif (playerRect.colliderect(coinRect)) {\n    console.log('Coin collected!');\n    score += 10;\n}",
      "followUp": "colliderect() checks if rectangles overlap - instant collision detection!",
      "options": [
        {
          "text": "What about sound effects?",
          "next": "sound"
        }
      ]
    },
    "sound": {
      "id": "sound",
      "speaker": "Pixel",
      "text": "Sound brings games to life! Music, effects, voices - Strata handles it all!",
      "codeExample": "const jumpSound = strata.mixer.Sound('jump.wav');\n\nfunction onJump() {\n    jumpSound.play();\n    console.log('Jumping!');\n}",
      "followUp": "Sound effects make actions feel real - every jump, hit, and victory!",
      "options": [
        {
          "text": "I'm ready to build something!",
          "next": "miniProject"
        }
      ]
    },
    "miniProject": {
      "id": "miniProject",
      "speaker": "Pixel",
      "text": "Let's combine everything into a mini game - Coin Collector!",
      "codeExample": "import { strata } from 'strata';\n\nstrata.init();\nconst screen = strata.display.setMode([800, 600]);\nconst player = new strata.Rect(400, 300, 40, 40);\nconst coin = new strata.Rect(200, 200, 20, 20);\nlet score = 0;\n\nwhile (true) {\n    const keys = strata.key.getPressed();\n    if (keys[strata.K_LEFT]) player.x -= 5;\n    if (keys[strata.K_RIGHT]) player.x += 5;\n    if (keys[strata.K_UP]) player.y -= 5;\n    if (keys[strata.K_DOWN]) player.y += 5;\n\n    if (player.colliderect(coin)) {\n        score += 10;\n        coin.x = Math.random() * 780;\n        coin.y = Math.random() * 580;\n    }\n\n    screen.fill([50, 50, 50]);\n    strata.draw.rect(screen, [0, 255, 0], player);\n    strata.draw.circle(screen, [255, 255, 0], [coin.x + 10, coin.y + 10], 10);\n    \n    strata.display.flip();\n}",
      "followUp": "You've built your first interactive game with Strata!",
      "options": [
        {
          "text": "Strata is amazing!",
          "next": "lessonComplete"
        }
      ]
    },
    "lessonComplete": {
      "id": "lessonComplete",
      "speaker": "Pixel",
      "text": "ðŸŽŠ LEVEL 9 COMPLETE! You're now a Strata Developer! ðŸŽ®",
      "followUp": "You know the core of game development - graphics, input, collisions, states. Time to build YOUR game!",
      "action": "completeLesson",
      "actionParams": { "lesson": 9, "nextLesson": 10 },
      "options": [
        {
          "text": "Final Lesson - Build a Complete Game!",
          "action": "loadLesson",
          "actionParams": { "lesson": 10 }
        },
        {
          "text": "I want to start my own game NOW!",
          "action": "startGameMode"
        },
        {
          "text": "Back to lesson menu",
          "action": "openLessons"
        }
      ]
    }
  },
  "startNode": "start"
}

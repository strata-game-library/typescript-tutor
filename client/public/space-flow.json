{
  "start": {
    "id": "start",
    "speaker": "Pixel",
    "text": "ðŸš€ Space Shooter adventure begins! Let's build an epic galactic battle game with meaningful choices that shape your experience!",
    "followUp": "First, let's set the visual style for your space game! This choice will bundle matching UI, fonts, and effects!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "titleDesign",
      "category": "style"
    },
    "options": [
      {
        "text": "A: Retro Arcade - Pixel art, 8-bit fonts, CRT effects, neon colors",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "titleDesign",
          "variant": "A",
          "bundle": ["pixel_ui", "8bit_fonts", "crt_effect", "neon_palette"]
        },
        "next": "projectSetup"
      },
      {
        "text": "B: Modern Sci-Fi - Sleek graphics, holographic UI, lens flares, metallic theme",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "titleDesign",
          "variant": "B",
          "bundle": ["modern_ui", "futuristic_fonts", "lens_flare", "metal_palette"]
        },
        "next": "projectSetup"
      }
    ]
  },

  "projectSetup": {
    "id": "projectSetup",
    "speaker": "Pixel",
    "text": "Stellar visual style! Now let's give your space shooter an out-of-this-world name. What should we call it?",
    "options": [
      {
        "text": "A: Let me type my own game name",
        "action": "promptGameName",
        "next": "gameTheme"
      },
      {
        "text": "B: Generate a galactic game name",
        "action": "generateGameName",
        "actionParams": { "gameType": "space" },
        "next": "gameTheme"
      }
    ]
  },

  "gameTheme": {
    "id": "gameTheme",
    "speaker": "Pixel",
    "text": "What's the core theme of your space adventure?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "coreTheme",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Classic Asteroids - Navigate asteroid fields, mine resources, survive debris",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "coreTheme",
          "variant": "A",
          "bundle": ["asteroids", "mining_powerups", "debris_physics"]
        },
        "next": "shipSelection"
      },
      {
        "text": "B: Alien Invasion - Defend Earth from waves of extraterrestrial attackers",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "coreTheme",
          "variant": "B",
          "bundle": ["alien_enemies", "defense_powerups", "invasion_waves"]
        },
        "next": "shipSelection"
      }
    ]
  },

  "shipSelection": {
    "id": "shipSelection",
    "speaker": "Pixel",
    "text": "Choose your spacecraft! Each has unique stats and abilities!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "playerShip",
      "category": "player"
    },
    "options": [
      {
        "text": "A: Small Fighter - Fast, agile, rapid fire, lower health",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "playerShip",
          "variant": "A",
          "bundle": ["fighter_sprite", "high_speed", "rapid_fire", "low_health"]
        },
        "next": "movementStyle"
      },
      {
        "text": "B: Heavy Cruiser - Slow, tanky, powerful shots, high health",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "playerShip",
          "variant": "B",
          "bundle": ["cruiser_sprite", "low_speed", "heavy_cannon", "high_health"]
        },
        "next": "movementStyle"
      }
    ]
  },

  "movementStyle": {
    "id": "movementStyle",
    "speaker": "Pixel",
    "text": "How should your ship handle in space?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "moveControls",
      "category": "controls"
    },
    "options": [
      {
        "text": "A: Smooth Glide - Momentum-based physics with drift and inertia",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "moveControls", "variant": "A" },
        "next": "weaponSystem"
      },
      {
        "text": "B: Arcade Snap - Instant direction changes, precise positioning",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "moveControls", "variant": "B" },
        "next": "weaponSystem"
      }
    ]
  },

  "weaponSystem": {
    "id": "weaponSystem",
    "speaker": "Pixel",
    "text": "STAGE 2: Combat Systems! Choose your primary weapon type!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "weaponType",
      "category": "combat"
    },
    "options": [
      {
        "text": "A: Laser Beams - Continuous streams, heat management, piercing damage",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "weaponType",
          "variant": "A",
          "bundle": ["laser_effect", "heat_gauge", "pierce_mechanic"]
        },
        "next": "powerUpTypes"
      },
      {
        "text": "B: Projectile Bullets - Rapid fire, limited ammo, spread patterns",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "weaponType",
          "variant": "B",
          "bundle": ["bullet_sprites", "ammo_counter", "spread_shot"]
        },
        "next": "powerUpTypes"
      }
    ]
  },

  "powerUpTypes": {
    "id": "powerUpTypes",
    "speaker": "Pixel",
    "text": "What power-ups will help pilots survive the cosmic battlefield?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "powerUpFocus",
      "category": "items"
    },
    "options": [
      {
        "text": "A: Shield Focus - Energy shields, damage reduction, temporary invincibility",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "powerUpFocus",
          "variant": "A",
          "bundle": ["shield_bubble", "damage_resist", "invuln_star"]
        },
        "next": "enemyWaves"
      },
      {
        "text": "B: Weapon Upgrades - Triple shot, homing missiles, damage boost",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "powerUpFocus",
          "variant": "B",
          "bundle": ["triple_shot", "homing_missile", "damage_amp"]
        },
        "next": "enemyWaves"
      }
    ]
  },

  "enemyWaves": {
    "id": "enemyWaves",
    "speaker": "Pixel",
    "text": "STAGE 3: Enemy Design! How should enemy formations attack?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "enemyFormation",
      "category": "enemies"
    },
    "options": [
      {
        "text": "A: Predictable Patterns - Classic formations, learnable movements",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "enemyFormation",
          "variant": "A",
          "bundle": ["pattern_formations", "wave_timer", "classic_ai"]
        },
        "next": "bossBattle"
      },
      {
        "text": "B: Random Chaos - Unpredictable spawns, adaptive AI behavior",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "enemyFormation",
          "variant": "B",
          "bundle": ["random_spawn", "smart_ai", "chaos_mode"]
        },
        "next": "bossBattle"
      }
    ]
  },

  "bossBattle": {
    "id": "bossBattle",
    "speaker": "Pixel",
    "text": "Boss encounter incoming! What type of epic showdown awaits?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "bossType",
      "category": "boss"
    },
    "options": [
      {
        "text": "A: Single Mothership - One massive enemy with multiple weak points",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "bossType",
          "variant": "A",
          "bundle": ["mothership_sprite", "weakpoint_system", "boss_health_bar"]
        },
        "next": "scrollDirection"
      },
      {
        "text": "B: Multi-Phase Boss - Transforming enemy with escalating difficulty",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "bossType",
          "variant": "B",
          "bundle": ["phase_boss", "transformation", "escalating_attacks"]
        },
        "next": "scrollDirection"
      }
    ]
  },

  "scrollDirection": {
    "id": "scrollDirection",
    "speaker": "Pixel",
    "text": "STAGE 4: World Movement! How should the space battlefield scroll?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "scrollType",
      "category": "world"
    },
    "options": [
      {
        "text": "A: Vertical Scrolling - Classic top-down space shooter style",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scrollType",
          "variant": "A",
          "bundle": ["vertical_bg", "top_spawn", "bottom_exit"]
        },
        "next": "scoreSystem"
      },
      {
        "text": "B: Horizontal Scrolling - Side-scrolling space adventure",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scrollType",
          "variant": "B",
          "bundle": ["horizontal_bg", "side_spawn", "right_exit"]
        },
        "next": "scoreSystem"
      }
    ]
  },

  "scoreSystem": {
    "id": "scoreSystem",
    "speaker": "Pixel",
    "text": "How should we track the pilot's success?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "scoringMethod",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: Points System - Earn points for enemies, combos, and accuracy",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scoringMethod",
          "variant": "A",
          "bundle": ["point_counter", "combo_multiplier", "accuracy_bonus"]
        },
        "next": "livesSystem"
      },
      {
        "text": "B: Survival Time - Track how long you can survive the onslaught",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scoringMethod",
          "variant": "B",
          "bundle": ["timer_display", "wave_counter", "endurance_mode"]
        },
        "next": "livesSystem"
      }
    ]
  },

  "livesSystem": {
    "id": "livesSystem",
    "speaker": "Pixel",
    "text": "How forgiving should the damage system be?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "healthSystem",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Limited Lives - Classic 3 lives with instant death",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "healthSystem",
          "variant": "A",
          "bundle": ["life_icons", "instant_death", "extra_life_powerup"]
        },
        "next": "specialAbilities"
      },
      {
        "text": "B: Shield & Health - Regenerating shields with health underneath",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "healthSystem",
          "variant": "B",
          "bundle": ["shield_bar", "health_bar", "regen_mechanic"]
        },
        "next": "specialAbilities"
      }
    ]
  },

  "specialAbilities": {
    "id": "specialAbilities",
    "speaker": "Pixel",
    "text": "STAGE 5: Special Powers! Choose your emergency ability!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "specialPower",
      "category": "abilities"
    },
    "options": [
      {
        "text": "A: Screen Bomb - Clear all enemies with a massive explosion",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "specialPower",
          "variant": "A",
          "bundle": ["bomb_effect", "screen_clear", "bomb_counter"]
        },
        "next": "endConditions"
      },
      {
        "text": "B: Time Slow - Slow down time for precision dodging",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "specialPower",
          "variant": "B",
          "bundle": ["slowmo_effect", "time_gauge", "bullet_time"]
        },
        "next": "endConditions"
      }
    ]
  },

  "endConditions": {
    "id": "endConditions",
    "speaker": "Pixel",
    "text": "When does the space mission conclude?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "gameEnd",
      "category": "structure"
    },
    "options": [
      {
        "text": "A: Wave Completion - Beat set waves to achieve victory",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "gameEnd",
          "variant": "A",
          "bundle": ["wave_structure", "level_progression", "final_wave"]
        },
        "next": "victoryScreen"
      },
      {
        "text": "B: Endless Mode - Survive as long as possible",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "gameEnd",
          "variant": "B",
          "bundle": ["endless_waves", "difficulty_scaling", "highscore_chase"]
        },
        "next": "victoryScreen"
      }
    ]
  },

  "victoryScreen": {
    "id": "victoryScreen",
    "speaker": "Pixel",
    "text": "Final touch! How should we celebrate the pilot's achievement?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "victory",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: High Score Board - Classic arcade leaderboard with initials",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "victory",
          "variant": "A",
          "bundle": ["leaderboard_ui", "initial_entry", "score_ranking"]
        },
        "next": "complete"
      },
      {
        "text": "B: Achievement Gallery - Unlock medals and view statistics",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "victory",
          "variant": "B",
          "bundle": ["medal_display", "stat_tracker", "achievement_list"]
        },
        "next": "complete"
      }
    ]
  },

  "complete": {
    "id": "complete",
    "speaker": "Pixel",
    "text": "ðŸŽ® MISSION COMPLETE! Your space shooter is fully configured with all systems operational!",
    "followUp": "Title Design âœ“ Theme âœ“ Ship âœ“ Combat âœ“ Enemies âœ“ Bosses âœ“ Scrolling âœ“ Score âœ“ Lives âœ“ Abilities âœ“ Victory âœ“ Every choice has shaped your unique galactic adventure!",
    "action": "compileFullGame",
    "actionParams": {
      "gameType": "space-shooter"
    },
    "options": [
      {
        "text": "Play my space shooter!",
        "action": "launchPyodideGame"
      },
      {
        "text": "Export as TypeScript",
        "action": "exportPyodideGame"
      },
      {
        "text": "Open in Pro Editor",
        "action": "openWYSIWYGEditor"
      }
    ]
  }
}

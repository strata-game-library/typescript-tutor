{
  "start": {
    "id": "start",
    "speaker": "Pixel",
    "text": "A PUZZLE GAME! Time to challenge minds with clever mechanics! Let's build a brain-teaser that gets progressively harder. First, what type of puzzle thinking appeals to you?",
    "followUp": "This choice will bundle matching visuals, sounds, and core mechanics!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "puzzleCore",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Logic Puzzles - Pattern matching, color sorting, strategic thinking",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "puzzleCore",
          "variant": "A",
          "bundle": ["logic_patterns", "match_mechanics", "strategic_sounds"]
        },
        "next": "projectSetup"
      },
      {
        "text": "B: Spatial Puzzles - Shape fitting, rotation, physical placement",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "puzzleCore",
          "variant": "B",
          "bundle": ["shape_pieces", "rotation_mechanics", "placement_sounds"]
        },
        "next": "projectSetup"
      }
    ]
  },

  "projectSetup": {
    "id": "projectSetup",
    "speaker": "Pixel",
    "text": "Nice puzzle type! Now let's give your brain-teaser a clever name. What should we call your puzzle game?",
    "options": [
      {
        "text": "A: Let me type my own game name",
        "action": "promptGameName",
        "next": "visualTheme"
      },
      {
        "text": "B: Generate a clever puzzle game name",
        "action": "generateGameName",
        "actionParams": { "gameType": "puzzle" },
        "next": "visualTheme"
      }
    ]
  },

  "visualTheme": {
    "id": "visualTheme",
    "speaker": "Pixel",
    "text": "What visual style should your puzzle pieces have?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "visualStyle",
      "category": "visuals"
    },
    "options": [
      {
        "text": "A: Abstract Geometric - Clean shapes, solid colors, minimalist design",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "visualStyle",
          "variant": "A",
          "bundle": ["geometric_sprites", "solid_colors", "clean_ui"]
        },
        "next": "titlePresentation"
      },
      {
        "text": "B: Themed Objects - Gems, candies, fruits, or themed items",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "visualStyle",
          "variant": "B",
          "bundle": ["themed_sprites", "colorful_items", "decorative_ui"]
        },
        "next": "titlePresentation"
      }
    ]
  },

  "titlePresentation": {
    "id": "titlePresentation",
    "speaker": "Pixel",
    "text": "STAGE 1: Title Screen! How should we present your puzzle game?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "titleStyle",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: Minimalist Title - Clean typography with subtle animations",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "titleStyle",
          "variant": "A",
          "bundle": ["minimal_font", "subtle_effects", "calm_music"]
        },
        "next": "menuLayout"
      },
      {
        "text": "B: Animated Title - Playful bouncing letters with particle effects",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "titleStyle",
          "variant": "B",
          "bundle": ["playful_font", "particle_effects", "upbeat_music"]
        },
        "next": "menuLayout"
      }
    ]
  },

  "menuLayout": {
    "id": "menuLayout",
    "speaker": "Pixel",
    "text": "How should players navigate between puzzles?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "menuSystem",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: Linear Path - Unlock puzzles one by one in sequence",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "menuSystem",
          "variant": "A",
          "bundle": ["linear_menu", "locked_levels", "progress_bar"]
        },
        "next": "tutorialSystem"
      },
      {
        "text": "B: Grid Selection - Choose from a grid of available puzzles",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "menuSystem",
          "variant": "B",
          "bundle": ["grid_menu", "star_ratings", "level_previews"]
        },
        "next": "tutorialSystem"
      }
    ]
  },

  "tutorialSystem": {
    "id": "tutorialSystem",
    "speaker": "Pixel",
    "text": "STAGE 2: Learning Curve! How should players learn the mechanics?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "tutorial",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Interactive Guide - Step-by-step hand-holding tutorial",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "tutorial",
          "variant": "A",
          "bundle": ["guide_arrows", "highlight_effects", "tutorial_text"]
        },
        "next": "gridSize"
      },
      {
        "text": "B: Practice Levels - Learn by doing with simple starter puzzles",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "tutorial",
          "variant": "B",
          "bundle": ["easy_levels", "hint_button", "skip_option"]
        },
        "next": "gridSize"
      }
    ]
  },

  "gridSize": {
    "id": "gridSize",
    "speaker": "Pixel",
    "text": "What size should the puzzle grid be?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "gridConfig",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Small & Focused - 5x5 to 7x7 grids for quick, tactical puzzles",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "gridConfig",
          "variant": "A",
          "bundle": ["small_grid", "quick_rounds", "tactical_gameplay"]
        },
        "next": "coreMechanic"
      },
      {
        "text": "B: Large & Complex - 8x8 to 12x12 grids for epic challenges",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "gridConfig",
          "variant": "B",
          "bundle": ["large_grid", "long_rounds", "strategic_gameplay"]
        },
        "next": "coreMechanic"
      }
    ]
  },

  "coreMechanic": {
    "id": "coreMechanic",
    "speaker": "Pixel",
    "text": "STAGE 3: Core Gameplay! What's the main puzzle mechanic?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "mainMechanic",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Match & Clear - Match 3+ similar items to clear them",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "mainMechanic",
          "variant": "A",
          "bundle": ["match3_logic", "swap_controls", "combo_system"]
        },
        "next": "moveSystem"
      },
      {
        "text": "B: Slide & Solve - Move pieces to solve patterns or pictures",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "mainMechanic",
          "variant": "B",
          "bundle": ["sliding_logic", "drag_controls", "pattern_detection"]
        },
        "next": "moveSystem"
      }
    ]
  },

  "moveSystem": {
    "id": "moveSystem",
    "speaker": "Pixel",
    "text": "How should piece movement feel?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "moveStyle",
      "category": "controls"
    },
    "options": [
      {
        "text": "A: Snappy & Instant - Pieces snap immediately to positions",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "moveStyle",
          "variant": "A",
          "bundle": ["instant_move", "snap_sound", "quick_feedback"]
        },
        "next": "difficultyProgression"
      },
      {
        "text": "B: Smooth & Animated - Pieces glide with satisfying animations",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "moveStyle",
          "variant": "B",
          "bundle": ["smooth_move", "slide_sound", "animated_feedback"]
        },
        "next": "difficultyProgression"
      }
    ]
  },

  "difficultyProgression": {
    "id": "difficultyProgression",
    "speaker": "Pixel",
    "text": "How should difficulty increase over levels?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "difficulty",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Gradual Ramp - Slowly introduce new mechanics and challenges",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "difficulty",
          "variant": "A",
          "bundle": ["gentle_curve", "tutorial_reminders", "forgiving_mistakes"]
        },
        "next": "timePressure"
      },
      {
        "text": "B: Steep Challenge - Quick difficulty spikes for experienced players",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "difficulty",
          "variant": "B",
          "bundle": ["hard_curve", "minimal_help", "punishing_mistakes"]
        },
        "next": "timePressure"
      }
    ]
  },

  "timePressure": {
    "id": "timePressure",
    "speaker": "Pixel",
    "text": "STAGE 4: Challenge Mode! Should there be time or move limits?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "constraints",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Timed Challenges - Beat the clock with countdown pressure",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "constraints",
          "variant": "A",
          "bundle": ["timer_ui", "countdown_sounds", "urgency_music"]
        },
        "next": "hintSystem"
      },
      {
        "text": "B: Relaxed Pace - No time limit, focus on perfect solutions",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "constraints",
          "variant": "B",
          "bundle": ["move_counter", "zen_music", "think_time"]
        },
        "next": "hintSystem"
      }
    ]
  },

  "hintSystem": {
    "id": "hintSystem",
    "speaker": "Pixel",
    "text": "How should the hint system work?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "hints",
      "category": "assistance"
    },
    "options": [
      {
        "text": "A: Unlimited Hints - Help available anytime for casual players",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "hints",
          "variant": "A",
          "bundle": ["hint_button", "glow_effect", "hint_sound"]
        },
        "next": "specialPieces"
      },
      {
        "text": "B: Limited Assists - Earn hints through good play",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "hints",
          "variant": "B",
          "bundle": ["hint_counter", "earn_system", "strategic_hints"]
        },
        "next": "specialPieces"
      }
    ]
  },

  "specialPieces": {
    "id": "specialPieces",
    "speaker": "Pixel",
    "text": "Should there be special pieces or power-ups?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "specials",
      "category": "powerups"
    },
    "options": [
      {
        "text": "A: Power-Ups - Bombs, lightning, color changers for big clears",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "specials",
          "variant": "A",
          "bundle": ["bomb_piece", "lightning_piece", "rainbow_piece", "explosion_effects"]
        },
        "next": "scoringSystem"
      },
      {
        "text": "B: Obstacles - Locks, ice blocks, barriers to overcome",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "specials",
          "variant": "B",
          "bundle": ["locked_pieces", "ice_blocks", "barriers", "unlock_effects"]
        },
        "next": "scoringSystem"
      }
    ]
  },

  "scoringSystem": {
    "id": "scoringSystem",
    "speaker": "Pixel",
    "text": "STAGE 5: Rewards & Polish! How should scoring work?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "scoring",
      "category": "rewards"
    },
    "options": [
      {
        "text": "A: Points & Combos - Chain moves for multiplier scores",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scoring",
          "variant": "A",
          "bundle": ["point_system", "combo_multiplier", "score_display"]
        },
        "next": "levelComplete"
      },
      {
        "text": "B: Star Rating - Earn 1-3 stars based on performance",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "scoring",
          "variant": "B",
          "bundle": ["star_system", "rating_thresholds", "star_display"]
        },
        "next": "levelComplete"
      }
    ]
  },

  "levelComplete": {
    "id": "levelComplete",
    "speaker": "Pixel",
    "text": "What happens when a puzzle is solved?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "completion",
      "category": "feedback"
    },
    "options": [
      {
        "text": "A: Stats Summary - Show time, moves, score breakdown",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "completion",
          "variant": "A",
          "bundle": ["stats_screen", "performance_graph", "share_button"]
        },
        "next": "victoryEffects"
      },
      {
        "text": "B: Quick Victory - Brief celebration, straight to next puzzle",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "completion",
          "variant": "B",
          "bundle": ["quick_banner", "next_button", "auto_advance"]
        },
        "next": "victoryEffects"
      }
    ]
  },

  "victoryEffects": {
    "id": "victoryEffects",
    "speaker": "Pixel",
    "text": "Finally, what victory celebration effects?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "victory",
      "category": "effects"
    },
    "options": [
      {
        "text": "A: Particle Explosion - Confetti, sparkles, and fanfare",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "victory",
          "variant": "A",
          "bundle": ["confetti_particles", "sparkle_effects", "fanfare_sound"]
        },
        "next": "complete"
      },
      {
        "text": "B: Simple Completion - Clean checkmark with pleasant chime",
        "action": "selectComponentVariant",
        "actionParams": {
          "componentId": "victory",
          "variant": "B",
          "bundle": ["checkmark_icon", "complete_sound", "fade_transition"]
        },
        "next": "complete"
      }
    ]
  },

  "complete": {
    "id": "complete",
    "speaker": "Pixel",
    "text": "ðŸ§© PUZZLE PERFECTION! Your brain-teasing game is complete with all systems designed!",
    "followUp": "Title âœ“ Tutorial âœ“ Core Mechanics âœ“ Challenge Systems âœ“ Rewards âœ“ Every choice creates your unique puzzle experience!",
    "action": "compileFullGame",
    "options": [
      {
        "text": "Play my puzzle game!",
        "action": "launchPyodideGame"
      },
      {
        "text": "Export as TypeScript",
        "action": "exportPyodideGame"
      },
      {
        "text": "Open in Pro Editor",
        "action": "openWYSIWYGEditor"
      }
    ]
  }
}

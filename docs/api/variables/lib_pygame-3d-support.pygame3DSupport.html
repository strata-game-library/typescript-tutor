<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>pygame3DSupport | Strata TypeScript Tutor API - v1.0.0</title><meta name="description" content="Documentation for Strata TypeScript Tutor API"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Strata TypeScript Tutor API - v1.0.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Strata TypeScript Tutor API</a></li><li><a href="../modules/lib_pygame-3d-support.html">lib/pygame-3d-support</a></li><li><a href="lib_pygame-3d-support.pygame3DSupport.html">pygame3DSupport</a></li></ul><h1>Variable pygame3DSupport<code class="tsd-tag">Const</code></h1></div><div class="tsd-signature"><span class="tsd-kind-variable">pygame3DSupport</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;# 3D Support for PyGame - Simple 3D without OpenGL\n# This shows how to create 3D effects in pygame using projection math\n\nimport pygame\nimport math\nimport json\n\nclass Simple3D:\n    \&quot;\&quot;\&quot;Simple 3D engine for pygame without OpenGL dependencies\&quot;\&quot;\&quot;\n    \n    def __init__(self, screen_width, screen_height):\n        self.width = screen_width\n        self.height = screen_height\n        self.center_x = screen_width // 2\n        self.center_y = screen_height // 2\n        self.fov = 256  # Field of view\n        self.viewer_distance = 4\n        \n        # Camera position and rotation\n        self.camera_x = 0\n        self.camera_y = 0\n        self.camera_z = -5\n        self.rotation_x = 0\n        self.rotation_y = 0\n        self.rotation_z = 0\n    \n    def project_point(self, point_3d):\n        \&quot;\&quot;\&quot;Project a 3D point to 2D screen coordinates\&quot;\&quot;\&quot;\n        x, y, z = point_3d\n        \n        # Apply rotations\n        x, y, z = self.rotate_point(x, y, z)\n        \n        # Translate relative to camera\n        x -= self.camera_x\n        y -= self.camera_y\n        z -= self.camera_z\n        \n        # Avoid division by zero\n        if z &lt;= 0:\n            z = 0.1\n        \n        # Project to 2D\n        factor = self.fov / z\n        x_2d = int(x * factor + self.center_x)\n        y_2d = int(y * factor + self.center_y)\n        \n        return (x_2d, y_2d, z)  # Return z for depth sorting\n    \n    def rotate_point(self, x, y, z):\n        \&quot;\&quot;\&quot;Apply rotation transformations\&quot;\&quot;\&quot;\n        # Rotate around X axis\n        if self.rotation_x:\n            cos_x = math.cos(self.rotation_x)\n            sin_x = math.sin(self.rotation_x)\n            y, z = y * cos_x - z * sin_x, y * sin_x + z * cos_x\n        \n        # Rotate around Y axis\n        if self.rotation_y:\n            cos_y = math.cos(self.rotation_y)\n            sin_y = math.sin(self.rotation_y)\n            x, z = x * cos_y + z * sin_y, -x * sin_y + z * cos_y\n        \n        # Rotate around Z axis\n        if self.rotation_z:\n            cos_z = math.cos(self.rotation_z)\n            sin_z = math.sin(self.rotation_z)\n            x, y = x * cos_z - y * sin_z, x * sin_z + y * cos_z\n        \n        return x, y, z\n    \n    def draw_line_3d(self, screen, point1, point2, color=(255, 255, 255)):\n        \&quot;\&quot;\&quot;Draw a line between two 3D points\&quot;\&quot;\&quot;\n        p1_2d = self.project_point(point1)\n        p2_2d = self.project_point(point2)\n        \n        # Only draw if both points are in front of camera\n        if p1_2d[2] &gt; 0 and p2_2d[2] &gt; 0:\n            pygame.draw.line(screen, color, p1_2d[:2], p2_2d[:2], 2)\n    \n    def draw_polygon_3d(self, screen, points, color=(100, 100, 200), outline_color=(255, 255, 255)):\n        \&quot;\&quot;\&quot;Draw a filled polygon in 3D\&quot;\&quot;\&quot;\n        projected_points = []\n        avg_z = 0\n        \n        for point in points:\n            p_2d = self.project_point(point)\n            projected_points.append(p_2d[:2])\n            avg_z += p_2d[2]\n        \n        avg_z /= len(points)\n        \n        # Only draw if polygon is in front of camera\n        if avg_z &gt; 0 and len(projected_points) &gt;= 3:\n            # Draw filled polygon\n            pygame.draw.polygon(screen, color, projected_points)\n            # Draw outline\n            pygame.draw.polygon(screen, outline_color, projected_points, 2)\n        \n        return avg_z  # Return for depth sorting\n\nclass Mesh3D:\n    \&quot;\&quot;\&quot;A 3D mesh object\&quot;\&quot;\&quot;\n    \n    def __init__(self, vertices, faces, colors=None):\n        self.vertices = vertices  # List of (x, y, z) points\n        self.faces = faces  # List of vertex indices forming faces\n        self.colors = colors or [(100, 100, 200)] * len(faces)\n        self.position = [0, 0, 0]\n        self.rotation = [0, 0, 0]\n        self.scale = 1.0\n    \n    def get_transformed_vertices(self):\n        \&quot;\&quot;\&quot;Get vertices after applying transformations\&quot;\&quot;\&quot;\n        transformed = []\n        for vertex in self.vertices:\n            # Apply scale\n            x = vertex[0] * self.scale\n            y = vertex[1] * self.scale\n            z = vertex[2] * self.scale\n            \n            # Apply rotation (simplified)\n            if self.rotation[1]:  # Y rotation only for simplicity\n                cos_y = math.cos(self.rotation[1])\n                sin_y = math.sin(self.rotation[1])\n                x, z = x * cos_y + z * sin_y, -x * sin_y + z * cos_y\n            \n            # Apply position\n            x += self.position[0]\n            y += self.position[1]\n            z += self.position[2]\n            \n            transformed.append([x, y, z])\n        \n        return transformed\n    \n    def draw(self, screen, engine):\n        \&quot;\&quot;\&quot;Draw the mesh using the 3D engine\&quot;\&quot;\&quot;\n        transformed_vertices = self.get_transformed_vertices()\n        \n        # Create face list with depth values for sorting\n        face_list = []\n        for i, face in enumerate(self.faces):\n            # Calculate average Z for depth sorting\n            avg_z = sum(transformed_vertices[v][2] for v in face) / len(face)\n            face_list.append((avg_z, i, face))\n        \n        # Sort faces by depth (painter&#39;s algorithm)\n        face_list.sort(reverse=True)\n        \n        # Draw faces from back to front\n        for avg_z, face_index, face in face_list:\n            face_vertices = [transformed_vertices[v] for v in face]\n            color = self.colors[face_index] if face_index &lt; len(self.colors) else (100, 100, 200)\n            engine.draw_polygon_3d(screen, face_vertices, color)\n\n# Predefined 3D shapes\ndef create_cube(size=1):\n    \&quot;\&quot;\&quot;Create a cube mesh\&quot;\&quot;\&quot;\n    vertices = [\n        [-size, -size, -size], [size, -size, -size],\n        [size, size, -size], [-size, size, -size],\n        [-size, -size, size], [size, -size, size],\n        [size, size, size], [-size, size, size]\n    ]\n    \n    faces = [\n        [0, 1, 2, 3],  # Back\n        [4, 7, 6, 5],  # Front\n        [0, 4, 5, 1],  # Bottom\n        [2, 6, 7, 3],  # Top\n        [0, 3, 7, 4],  # Left\n        [1, 5, 6, 2]   # Right\n    ]\n    \n    colors = [\n        (200, 100, 100),  # Red\n        (100, 200, 100),  # Green\n        (100, 100, 200),  # Blue\n        (200, 200, 100),  # Yellow\n        (200, 100, 200),  # Magenta\n        (100, 200, 200)   # Cyan\n    ]\n    \n    return Mesh3D(vertices, faces, colors)\n\ndef create_pyramid(size=1):\n    \&quot;\&quot;\&quot;Create a pyramid mesh\&quot;\&quot;\&quot;\n    vertices = [\n        [-size, 0, -size], [size, 0, -size],\n        [size, 0, size], [-size, 0, size],\n        [0, -size * 2, 0]  # Apex\n    ]\n    \n    faces = [\n        [0, 1, 2, 3],  # Base\n        [0, 1, 4],     # Front\n        [1, 2, 4],     # Right\n        [2, 3, 4],     # Back\n        [3, 0, 4]      # Left\n    ]\n    \n    colors = [\n        (150, 150, 150),  # Gray base\n        (200, 150, 100),  # Sandy front\n        (180, 130, 80),   # Sandy right\n        (160, 110, 60),   # Sandy back\n        (140, 90, 40)     # Sandy left\n    ]\n    \n    return Mesh3D(vertices, faces, colors)\n\ndef create_spaceship(size=1):\n    \&quot;\&quot;\&quot;Create a simple spaceship mesh\&quot;\&quot;\&quot;\n    vertices = [\n        [0, 0, -size * 2],      # Nose\n        [-size, 0, size],       # Left wing\n        [size, 0, size],        # Right wing\n        [0, size * 0.5, size],  # Top back\n        [0, -size * 0.5, size], # Bottom back\n        [0, 0, 0]               # Center\n    ]\n    \n    faces = [\n        [0, 1, 5],      # Left side\n        [0, 5, 2],      # Right side\n        [0, 3, 5],      # Top\n        [0, 5, 4],      # Bottom\n        [1, 2, 3, 4]    # Back\n    ]\n    \n    colors = [\n        (150, 150, 200),  # Blue-gray left\n        (150, 150, 200),  # Blue-gray right\n        (200, 200, 220),  # Light top\n        (100, 100, 120),  # Dark bottom\n        (255, 100, 100)   # Red engines\n    ]\n    \n    return Mesh3D(vertices, faces, colors)\n\n# Example game with 3D graphics\nclass Game3D:\n    def __init__(self):\n        pygame.init()\n        self.screen = pygame.display.set_mode((800, 600))\n        pygame.display.set_caption(\&quot;PyGame 3D Demo - Use Arrow Keys to Rotate\&quot;)\n        self.clock = pygame.time.Clock()\n        self.running = True\n        \n        # Initialize 3D engine\n        self.engine = Simple3D(800, 600)\n        \n        # Create 3D objects\n        self.objects = [\n            create_cube(1),\n            create_pyramid(1),\n            create_spaceship(0.7)\n        ]\n        \n        # Position objects\n        self.objects[0].position = [-3, 0, 2]\n        self.objects[1].position = [0, 0, 2]\n        self.objects[2].position = [3, 0, 2]\n        \n        # Animation variables\n        self.time = 0\n    \n    def handle_events(self):\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                self.running = False\n        \n        # Keyboard controls for camera\n        keys = pygame.key.get_pressed()\n        if keys[pygame.K_LEFT]:\n            self.engine.rotation_y -= 0.05\n        if keys[pygame.K_RIGHT]:\n            self.engine.rotation_y += 0.05\n        if keys[pygame.K_UP]:\n            self.engine.rotation_x -= 0.05\n        if keys[pygame.K_DOWN]:\n            self.engine.rotation_x += 0.05\n        if keys[pygame.K_q]:\n            self.engine.camera_z += 0.2\n        if keys[pygame.K_e]:\n            self.engine.camera_z -= 0.2\n    \n    def update(self):\n        self.time += 0.02\n        \n        # Rotate objects\n        for obj in self.objects:\n            obj.rotation[1] = self.time\n        \n        # Bob the spaceship\n        self.objects[2].position[1] = math.sin(self.time * 2) * 0.5\n    \n    def draw(self):\n        self.screen.fill((20, 20, 40))  # Dark blue background\n        \n        # Draw coordinate axes\n        origin = self.engine.project_point([0, 0, 0])\n        x_axis = self.engine.project_point([2, 0, 0])\n        y_axis = self.engine.project_point([0, 2, 0])\n        z_axis = self.engine.project_point([0, 0, 2])\n        \n        if origin[2] &gt; 0:\n            pygame.draw.line(self.screen, (255, 0, 0), origin[:2], x_axis[:2], 2)  # X - Red\n            pygame.draw.line(self.screen, (0, 255, 0), origin[:2], y_axis[:2], 2)  # Y - Green\n            pygame.draw.line(self.screen, (0, 0, 255), origin[:2], z_axis[:2], 2)  # Z - Blue\n        \n        # Draw 3D objects\n        for obj in self.objects:\n            obj.draw(self.screen, self.engine)\n        \n        # Draw instructions\n        font = pygame.font.Font(None, 24)\n        instructions = [\n            \&quot;Arrow Keys: Rotate camera\&quot;,\n            \&quot;Q/E: Zoom in/out\&quot;,\n            \&quot;ESC: Quit\&quot;\n        ]\n        y = 10\n        for instruction in instructions:\n            text = font.render(instruction, True, (200, 200, 200))\n            self.screen.blit(text, (10, y))\n            y += 25\n        \n        pygame.display.flip()\n    \n    def run(self):\n        while self.running:\n            self.handle_events()\n            self.update()\n            self.draw()\n            self.clock.tick(60)\n        \n        pygame.quit()\n\n# Run the demo\nif __name__ == \&quot;__main__\&quot;:\n    game = Game3D()\n    game.run()\n&quot;</span><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jbcom/nodejs-strata-typescript-tutor/blob/5c3515095530134163e97740402b2aa89c239f54/client/src/lib/pygame-3d-support.ts#L4">client/src/lib/pygame-3d-support.ts:4</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Strata TypeScript Tutor API - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
